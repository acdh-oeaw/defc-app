{% extends "defcdb/base_detail.html" %}
{% load staticfiles %}
 {% block scriptHeader %}
 <!--STYLESHEET-->
<link type="text/css" rel="stylesheet" href="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/stylesheet/3dhop.css"/>  
<!--SPIDERGL-->
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/spidergl.js"></script>
<!--JQUERY-->
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/jquery.js"></script>
<!--PRESENTER-->
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/presenter.js"></script>
<!--3D MODELS LOADING AND RENDERING-->
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/nexus.js"></script>
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/ply.js"></script>
<!--TRACKBALLS-->
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/trackball_sphere.js"></script>
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/trackball_turntable.js"></script>
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/trackball_turntable_pan.js"></script>
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/trackball_pantilt.js"></script>
<!--UTILITY-->
<script type="text/javascript" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/js/init.js"></script>
 {% endblock %}

{% block content %}

<div class="container">
<div id="3dhop" class="tdhop" onmousedown="if (event.preventDefault) event.preventDefault()">
            <div id="toolbar">
                <img id="home"     title="Home"                  src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/home.png"   /><br/>
                <img id="zoomin"   title="Zoom In"               src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/zoomin.png" /><br/>
                <img id="zoomout"  title="Zoom Out"              src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/zoomout.png"/><br/>
                <img id="light_on" title="Disable Light Control" src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/light_on.png" style="position:absolute; visibility:hidden;"/>
                <img id="light"    title="Enable Light Control"  src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/light.png"/><br/>
                <img id="full_on"  title="Exit Full Screen"      src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/full_on.png" style="position:absolute; visibility:hidden;"/>
                <img id="full"     title="Full Screen"           src="http://{{ request.get_host }}/media/static/libs/3dhop/minimal/skins/dark/full.png"   />
            </div>
        <!-- <canvas id="draw-canvas" style="background-image: url({% static 'skins/backgrounds/light.jpg' %})"/> -->
            <canvas id="draw-canvas"/>
        </div>
<button id="01" class="btn btn-default">Show all fields</button><br/>
<p></p>
<div class="panel panel-default">

<table class="table table-bordered table-striped">
        <tr>
                <td>Model ID</td>
                <td>{{ object.model_id }}</td>
        </tr>
        <tr>
                <td>Finds</td>
                <td></td>
        </tr>
        <tr>
                <td>Part</td>
                <td>{{ object.part }}</td>
        </tr>
        <tr>
                <td>Diameter</td>
                <td>{{ object.diameter }}</td>
        </tr>
        <tr>
                <td>Wall thickness</td>
                <td>{{ object.wall_thickness }}</td>
        </tr>
        <tr>
                <td>Surface Treatment i</td>
                <td>{{ object.surface_treatment_i }}</td>
        </tr>
        <tr>
                <td>Surface Treatment o</td>
                <td>{{ object.surface_treatment_o }}</td>
        </tr>
        <tr>
                <td>Surface Color i</td>
                <td>{{ object.surface_color_i }}</td>
        </tr>
        <tr>
                <td>Surface Color o</td>
                <td>{{ object.surface_color_o }}</td>
        </tr>
        <tr>
                <td>Decoration color</td>
                <td>{{ object.decoration_color }}</td>
        </tr>
        <tr>
                <td>Decoration description</td>
                <td>{{ object.decoration_description }}</td>
        </tr>
        <tr>
                <td>Fabric color</td>
                <td>{{ object.fabric_color }}</td>
        </tr>
        <tr>
                <td>Hardness</td>
                <td>{{ object.hardness }}</td>
        </tr>
        <tr>
                <td>Sorting</td>
                <td>{{ object.sorting }}</td>
        </tr>
        <tr>
                <td>Density</td>
                <td>{{ object.density }}</td>
        </tr>
        <tr>
                <td>Pores</td>
                <td>{{ object.pores }}</td>
        </tr>
        <tr>
                <td>Core form</td>
                <td>{{ object.core_form }}</td>
        </tr>
        <tr>
                <td>Core color</td>
                <td>{{ object.core_color }}</td>
        </tr>
        <tr>
                <td>Inclusion type</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_type }}</br>
                {% endfor %}</td>
        </tr>
        <tr>
                <td>Inclusion color</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_color }}</br>
                {% endfor %}</td>
        </tr>
        <tr>
                <td>Inclusion form</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_form }}</br>
                {% endfor %}</td>
        </tr>
        <tr>
                <td>Inclusion particle size</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_particle_size }}</br>
                {% endfor %}</td>
        </tr>
        <tr>
                <td>Inclusion frequency</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_frequency }}</br>
                {% endfor %}</td>
        </tr>
        
        <tr>
                <td>Inclusion hardness</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_hardness }}</br>
                {% endfor %}</td>
        </tr>
        <tr>
                <td>Inclusion</td>
            	<td>{% for x in inclusion_list %}
                {{ x.inclusion_type }} {{ x.inclusion_color }} {{ x.inclusion_form }} {{ x.inclusion_particle_size }} {{ x.inclusion_frequency }} {{ x.inclusion_hardness }}</br>
                {% endfor %}</td>
        </tr>
        <!-- <tr>
                <td>Subsistence type</td>
                <td>{% for type in subsistencetype_list %}
                    {{ type }}<br/>
                    {% endfor %}</td>
        </tr>
        <tr>
                <td>Reference</td>
                <td>{% for ref in reference_list %}
                    <a href="https://www.zotero.org/defc-orea-oeaw/items/itemKey/{{ ref.zoterokey }}" target="_blank">{{ ref.author }}, {{ ref.title }}, {{ ref.publication_year }}, {{ ref.place }} </a><br/>
                    {% endfor %}</td>
        </tr>
        <tr>
                <td>Comment</td>
                <td>{{ object.comment }}</td>
        </tr> -->
</table>
<!-- </div>
<a class ="btn btn-primary btn-sm" href="{% url 'defcdb:interpretation_update' pk=object.id %}">Edit</a>
<a class ="btn btn-danger btn-sm" href="{% url 'defcdb:interpretation_delete' pk=object.id %}">Delete</a>
</div> -->
{% endblock content %}
{% block scripts %}
<script type="text/javascript">
    var presenter = null;
    function setup3dhop() { 
        presenter = new Presenter("draw-canvas");
        var meshUrl = "http://{{ request.get_host }}/media/{{ object.model_file }}";
        presenter.setScene({
            meshes: {
                "3dmodel" : { url: meshUrl }
            },
            modelInstances : {
                "Model1" : { mesh : "3dmodel" } 
            }
        });
    }

    function actionsToolbar(action) {
        if(action=='home') presenter.resetTrackball(); 
        else if(action=='zoomin') presenter.zoomIn();
        else if(action=='zoomout') presenter.zoomOut(); 
        else if(action=='light' || action=='light_on') { presenter.enableLightTrackball(!presenter.isLightTrackballEnabled()); lightSwitch(); } 
        else if(action=='full'  || action=='full_on') fullscreenSwitch(); 
    }

    $(document).ready(function(){
        init3dhop();
        setup3dhop();
        resizeCanvas(1200,800);
        moveToolbar(2,2);
    });
</script>

{% endblock scripts %}
