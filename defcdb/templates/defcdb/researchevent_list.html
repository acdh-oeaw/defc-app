{% extends "defcdb/listBase.html" %} 

{% block Titel %}See All Objects{% endblock %}

{% block content %}

<div class="container">
{% if object_list %}

<hr />
<div class="panel panel-default">
	<div class="panel-heading">
		<h1> All Objects: 
		Research Event
		</h1>
		<div>
			<a class ="btn btn-primary btn-lg"  href="{% url 'defcdb:researchevent_create' %}">create new Research Event</a>
		</div>
	</div>
	<div class="panel-body">
<table class="table table-striped">
	<thead>
				<th colspan="7" class="ts-pager form-horizontal">
        <button type="button" class="btn first"><i class="icon-step-backward glyphicon glyphicon-step-backward"></i></button>
        <button type="button" class="btn prev"><i class="icon-arrow-left glyphicon glyphicon-backward"></i></button>
        <span class="pagedisplay"></span> <!-- this can be any element, including an input -->
        <button type="button" class="btn next"><i class="icon-arrow-right glyphicon glyphicon-forward"></i></button>
        <button type="button" class="btn last"><i class="icon-step-forward glyphicon glyphicon-step-forward"></i></button>
        <select class="pagesize input-mini" title="Select page size">
          <option selected="selected" value="10">10</option>
          <option value="20">20</option>
          <option value="30">30</option>
          <option value="40">40</option>
          <option value="1000">all</option>
        </select>
        <select class="pagenum input-mini" title="Select page number"></select>
      </th>
		<tr>
			<th>Name</th>
			<th>Institution</th>
			<th>Starting year</th>
			<th>Ending year</th>
			<th>Project name</th>
      		<th>Finds</th>

			<th>view | modify | delete</th>
	</thead>
	<tfoot>
		<tr>
			<th>Name</th>
			<th>Institution</th>
			<th>Starting year</th>
			<th>Ending year</th>
			<th>Project name</th>
      		<th>Finds</th>
			<th>view | modify | delete</th>
		</tr>
	</tfoot>
	<tbody>
	 {% for object in  object_list %}
	 <tr>
	 	<td>
	 		{% for x in object.research_type.all %}
	 		{{ x.name }} <br/>
	 		{% endfor %}
	 	</td>
	 	<td>
	 		{% for x in object.institution.all %}
	 		{{ x.name }} <br/>
	 		{% endfor %} 
	 	</td>
	 	<td>
	 		{{ object.year_of_activity_start_year }} 
	 	</td>
	 	<td>
	 		{{ object.year_of_activity_end_year }} 
	 	</td>
	 	<td>
	 		{{ object.project_name }} 
	 	</td>
	 	<td>
	 		{% for y in object.finds_set.all %}
	 		<a href="/defcdb/finds/detail/{{ y.id }}">{{ y.finds_type }}</a> <br/>
	 		{% endfor %}
	 	</td>
	 	<td>
	 		<a class ="btn btn-primary btn-sm"  href="/defcdb/{{ object.get_classname }}/detail/{{ object.id }}">view</a> 
	 		<a class ="btn btn-primary btn-sm" href="/defcdb/{{ object.get_classname }}/update/{{ object.id }}">edit</a>
	 		<a class ="btn btn-danger btn-sm" href="/defcdb/{{ object.get_classname }}/delete/{{ object.id }}">delete</a>
	 	</td>
	 </tr>	
    {% endfor %}
	</tbody>
</table>
{% else %}
<p> There is no <i>object_list</i></p>
{% endif %} 
</div>
</div>
</div>
{% endblock content %}