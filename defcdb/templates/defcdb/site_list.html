{% extends "defcdb/listBase.html" %} 

{% block Titel %}See All Objects{% endblock %}

{% block content %}

<div class="container">
{% if object_list %}
<h1> All Objects:  
	{% with object_list|first as first_doc %}
		{{ first_doc.get_classname|title }} 
	{% endwith %}
</h1>
<hr />

<div class="panel panel-default">
<table class="table table-striped">
	<thead>
				<th colspan="7" class="ts-pager form-horizontal">
        <button type="button" class="btn first"><i class="icon-step-backward glyphicon glyphicon-step-backward"></i></button>
        <button type="button" class="btn prev"><i class="icon-arrow-left glyphicon glyphicon-backward"></i></button>
        <span class="pagedisplay"></span> <!-- this can be any element, including an input -->
        <button type="button" class="btn next"><i class="icon-arrow-right glyphicon glyphicon-forward"></i></button>
        <button type="button" class="btn last"><i class="icon-step-forward glyphicon glyphicon-step-forward"></i></button>
        <select class="pagesize input-mini" title="Select page size">
          <option selected="selected" value="10">10</option>
          <option value="20">20</option>
          <option value="30">30</option>
          <option value="40">40</option>
          <option value="1000">all</option>
        </select>
        <select class="pagenum input-mini" title="Select page number"></select>
      </th>
		<tr>
			<th>Name</th>
			<th>Alternative name</th>
			<th>Region</th>
			<th>Province</th>
			<th>Topography</th>
      		<th>Areas (area type)</th>
			<th>view | modify | delete</th>
	</thead>
	<tfoot>
		<tr>
			<th>Name</th>
			<th>Alternative name</th>
			<th>Region</th>
			<th>Province</th>
			<th>Topography</th>
      		<th>Areas (area type)</th>
			<th>view | modify | delete</th>
			<!-- <th>description</th> -->
		</tr>
	</tfoot>
	<tbody>
	 {% for object in  object_list %}
	 <tr>
	 	<td>
	 		{{ object.name }}
	 	</td>
	 	<td>
	 		{{ object.alternative_name }} 
	 	</td>
	 	<td>
	 		{{ object.province.region }} 
	 	</td>
	 	<td>
	 		{{ object.province.name }} 
	 	</td>
	 	<td>
	 		{{ object.topography }} 
	 	</td>
    <td>
      {% if object.area_set.all %}
      {% for x in object.area_set.all %}
        <a href="/defcdb/area/detail/{{ x.id }}">
          {{ x.area_type }}
        </a><br/>
      {% endfor %}
      <a class ="btn btn-primary btn-sm"  href="/defcdb/area/create/?site={{ object }}">
              	create another area </a>
      {% else %}
      <a class ="btn btn-primary btn-sm"  href="/defcdb/area/create/?site={{ object }}">
        create a new area
      </a>
      {% endif %}
    </td>
	 	<td>
	 		<a class ="btn btn-primary btn-sm"  href="/defcdb/{{ object.get_classname }}/detail/{{ object.id }}">view</a> 
	 		<a class ="btn btn-primary btn-sm" href="/defcdb/{{ object.get_classname }}/update/{{ object.id }}">edit</a>
	 		<a class ="btn btn-danger btn-sm" href="/defcdb/{{ object.get_classname }}/delete/{{ object.id }}">delete</a>
	 	</td>
	 </tr>	
    {% endfor %}
	</tbody>
</table>
</div>
</div>
{% else %}
<p> There is no <i>object_list</i></p>
{% endif %} 
{% endblock content %}